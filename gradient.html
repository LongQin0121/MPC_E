<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‹é™æ¢¯åº¦è§’åº¦è®¡ç®—å™¨</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        .container {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            text-align: center;
            color: #4a5568;
            margin-bottom: 30px;
            font-size: 2rem;
        }
        .input-section {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #4299e1;
        }
        .input-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 15px;
        }
        label {
            font-weight: 600;
            min-width: 180px;
            color: #2d3748;
        }
        input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        input:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
        }
        .unit {
            font-weight: 600;
            color: #718096;
            min-width: 80px;
        }
        .calculate-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #4299e1, #3182ce);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }
        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(66, 153, 225, 0.4);
        }
        .results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .result-card {
            background: linear-gradient(135deg, #48bb78, #38a169);
            padding: 20px;
            border-radius: 10px;
            color: white;
            box-shadow: 0 5px 15px rgba(72, 187, 120, 0.3);
        }
        .result-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
            opacity: 0.9;
        }
        .result-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        .result-detail {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        .comparison {
            background: #2d3748;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .comparison h3 {
            margin-top: 0;
            color: #fbd38d;
        }
        .comparison-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âœˆï¸ èˆªç©ºä¸‹é™æ¢¯åº¦è®¡ç®—å™¨</h1>
        
        <div class="input-section">
            <div class="input-group">
                <label>ä¸‹é™æ¢¯åº¦:</label>
                <input type="number" id="gradient" placeholder="è¾“å…¥æ•°å€¼ï¼Œå¦‚ 330" step="0.1">
                <span class="unit">feet/nm</span>
            </div>
            
            <button class="calculate-btn" onclick="calculate()">ğŸ§® è®¡ç®—è§’åº¦</button>
        </div>
        
        <div id="results" class="results hidden">
            <div class="result-card">
                <div class="result-title">ä¸‹é™è§’åº¦</div>
                <div class="result-value" id="angle">-</div>
                <div class="result-detail">åº¦ (Â°)</div>
            </div>
            
            <div class="result-card">
                <div class="result-title">ä¸‹é™æ¢¯åº¦ç™¾åˆ†æ•°</div>
                <div class="result-value" id="percentage">-</div>
                <div class="result-detail">%</div>
            </div>
        </div>
        
        <div id="comparison" class="comparison hidden">
            <h3>ğŸ“Š å¯¹æ¯”åˆ†æ</h3>
            <div id="comparisonContent"></div>
        </div>
    </div>

    <script>
        function calculate() {
            const gradientInput = document.getElementById('gradient');
            if (!gradientInput) {
                console.error('æ‰¾ä¸åˆ°è¾“å…¥æ¡†');
                return;
            }
            
            const gradient = parseFloat(gradientInput.value);
            
            if (!gradient || gradient <= 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ä¸‹é™æ¢¯åº¦å€¼');
                return;
            }
            
            // è®¡ç®—è§’åº¦
            const gradientRatio = gradient / 6076; // 1æµ·é‡Œ = 6076è‹±å°º
            const angleRad = Math.atan(gradientRatio);
            const angleDeg = angleRad * (180 / Math.PI);
            
            // è®¡ç®—ç™¾åˆ†æ•°
            const percentage = gradientRatio * 100;
            
            // æ˜¾ç¤ºç»“æœ
            const angleElement = document.getElementById('angle');
            const percentageElement = document.getElementById('percentage');
            const resultsElement = document.getElementById('results');
            
            if (angleElement && percentageElement && resultsElement) {
                angleElement.textContent = angleDeg.toFixed(2);
                percentageElement.textContent = percentage.toFixed(2);
                
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                resultsElement.classList.remove('hidden');
                
                // ç”Ÿæˆå¯¹æ¯”åˆ†æ
                generateComparison(gradient, angleDeg);
            } else {
                console.error('æ‰¾ä¸åˆ°ç»“æœæ˜¾ç¤ºå…ƒç´ ');
            }
        }
        
        function generateComparison(gradient, angle) {
            let analysis = '';
            let category = '';
            let recommendations = '';
            
            if (angle < 2) {
                category = 'æç¼“ä¸‹é™';
                analysis = `
                    <div class="comparison-item">
                        <strong>ğŸŸ¢ ä¼˜ç‚¹:</strong> æä½³çš„ç‡ƒæ²¹æ•ˆç‡ï¼Œæœ€å°å™ªéŸ³å½±å“ï¼Œæ— éœ€å‡é€Ÿè®¾å¤‡
                    </div>
                    <div class="comparison-item">
                        <strong>ğŸ”´ ç¼ºç‚¹:</strong> å ç”¨å¤§é‡ç©ºåŸŸï¼Œä¸‹é™è·ç¦»å¾ˆé•¿ï¼Œä¸é€‚åˆç¹å¿™ç©ºåŸŸ
                    </div>
                `;
                recommendations = 'é€‚åˆé•¿èˆªçº¿å·¡èˆªä¸‹é™ï¼Œç¯ä¿ä¼˜å…ˆçš„èˆªç­';
            } else if (angle < 3) {
                category = 'ç†æƒ³ä¸‹é™è§’åº¦';
                analysis = `
                    <div class="comparison-item">
                        <strong>ğŸŸ¢ ä¼˜ç‚¹:</strong> ç‡ƒæ²¹æ•ˆç‡é«˜ï¼Œå¯å®ç°è¿ç»­ä¸‹é™ï¼Œå™ªéŸ³è¾ƒä½
                    </div>
                    <div class="comparison-item">
                        <strong>ğŸŸ¡ æ³¨æ„:</strong> éœ€è¦åˆç†çš„ç©ºåŸŸè§„åˆ’ï¼Œä¸‹é™è·ç¦»è¾ƒé•¿
                    </div>
                `;
                recommendations = 'æœ€ä½³çš„è¿ç»­ä¸‹é™è§’åº¦ï¼Œå¹³è¡¡æ•ˆç‡ä¸å®ç”¨æ€§';
            } else if (angle < 3.3) {  // 350 feet/nm â‰ˆ 3.29Â°
                category = 'æ ‡å‡†ä¸‹é™è§’åº¦';
                analysis = `
                    <div class="comparison-item">
                        <strong>ğŸŸ¡ ç‰¹ç‚¹:</strong> å¯èƒ½éœ€è¦é—´æ­‡æ€§å‡é€Ÿè®¾å¤‡ï¼Œä¸‹é™æ•ˆç‡é«˜
                    </div>
                    <div class="comparison-item">
                        <strong>âš ï¸ æ³¨æ„:</strong> æ¥è¿‘IDLEæœ€å¤§ä¸‹é™ç‡ï¼Œç‡ƒæ²¹æ•ˆç‡å¼€å§‹ä¸‹é™
                    </div>
                `;
                recommendations = 'é€‚ä¸­çš„ä¸‹é™è§’åº¦ï¼Œéœ€è¦é£è¡Œå‘˜é€‚å½“æ§åˆ¶';
            } else {
                category = 'é™¡å³­ä¸‹é™ (è¶…å‡ºIDLEèƒ½åŠ›)';
                analysis = `
                    <div class="comparison-item">
                        <strong>ğŸ”´ ç¼ºç‚¹:</strong> å¿…éœ€å‡é€Ÿè®¾å¤‡ï¼Œç‡ƒæ²¹æ•ˆç‡ä½ï¼Œå™ªéŸ³å¤§
                    </div>
                    <div class="comparison-item">
                        <strong>âš ï¸ è­¦å‘Š:</strong> è¶…å‡º350 feet/nmçš„IDLEæœ€å¤§ä¸‹é™ç‡
                    </div>
                `;
                recommendations = 'éœ€è¦é¢å¤–å‡é€Ÿè£…ç½®ï¼Œä¸é€‚åˆèŠ‚èƒ½é£è¡Œ';
            }
            
            const comparisonContent = document.getElementById('comparisonContent');
            const comparisonElement = document.getElementById('comparison');
            
            if (comparisonContent && comparisonElement) {
                comparisonContent.innerHTML = `
                    <div class="comparison-item">
                        <strong>ç±»åˆ«:</strong> ${category}
                        <br><strong>å»ºè®®:</strong> ${recommendations}
                    </div>
                    ${analysis}
                    <div class="comparison-item">
                        <strong>ğŸ’¡ å‚è€ƒæ•°æ®:</strong>
                        <br>â€¢ 252 feet/nm â‰ˆ 2.4Â° â‰ˆ 4.15% (ç†æƒ³å€¼)
                        <br>â€¢ 330 feet/nm â‰ˆ 3.1Â° â‰ˆ 5.43% (ä¸´ç•Œç‚¹)
                        <br>â€¢ 350 feet/nm â‰ˆ 3.3Â° â‰ˆ 5.76% (IDLEæœ€å¤§)
                        <br>â€¢ ä½ çš„è¾“å…¥: ${gradient} feet/nm â‰ˆ ${angle.toFixed(2)}Â° â‰ˆ ${(gradient/6076*100).toFixed(2)}%
                    </div>
                `;
                
                comparisonElement.classList.remove('hidden');
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è®¡ç®—ç¤ºä¾‹å€¼
        window.onload = function() {
            const gradientInput = document.getElementById('gradient');
            if (gradientInput) {
                gradientInput.value = '330';
                calculate();
            }
        };
    </script>
</body>
</html>